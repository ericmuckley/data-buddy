<!doctype html>
<html lang="en">

  <head>
    <title>Data Buddy</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="static/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/bootstrap-icons.css">
    <link rel="stylesheet" href="static/css/styles.css">
  </head>

  <body>

    <main>

      <nav class="navbar fixed-top bg-dark my-0 p-0 d-flex justify-content-between" id="navbar">
        <div class='nav-link' style="cursor: pointer" id="help-btn">
          <i class="bi bi-info-circle"></i>
        </div>
        <span style="color: darkorange; cursor:default; font-size:2rem; text-shadow: 1px 1px 1px white;">
          <strong><em>DATA</em></strong>&nbsp;&#129488;&nbsp;<strong><em>BUDDY</em></strong>
        </span>
        <a href="https://github.com/ericmuckley/data-buddy" target="_blank" class='nav-link'>
          <i class="bi bi-github"i></i>&nbsp;&nbsp;Source
        </a>
      </nav>  

      <div id="main-content" class="p-5 mt-3">


        <div class="alert alert-light" role="alert" id="help-alert" style="display:none; border:1px solid darkorange; border-radius:15px;">
          <div class="d-flex justify-content-between">
            <h4>Using Data Buddy</h4>
            <button type="button" class="btn-close" id='close-help-alert-btn'></button>
          </div>
          <p>
            Data Buddy is a tool for visualizing, studying, and iteracting with numerical datasets.
            First upload a CSV file using the upload button. Your CSV file should contain headers - column names - 
            in the fiirst cell of each column. Each column is assumed to correspond to a single variable, while
            each row corresponds to a single sample of that variable.<br><br>

            After uploading your CSV file, explore your data by configuring plots, examining distributions of 
            different variables, and comparing correlations between different variables.
          </p>
        </div>


        <!--
        <div class="mt-2 d-flex" style="display: flex; align-items: center;">
          <span style="white-space: nowrap; font-size: 1.1rem;">
            Upload a CSV file&nbsp;&nbsp;
          </span>
          <input class="form-control form-control-sm rounded-pill" type="file" id="file-upload" accept=".csv,.CSV">
        </div>
        <div class="d-flex justify-content-between">
          <span></span>
          <p class='fake-link' id="use-example-csv-btn" style="font-size:0.9rem;">
            Don't have a CSV file ready? Use an example file
          </p>
          <span></span>
        </div>
        -->
        <div class="d-flex justify-content-between" style='display:flex; align-items:flex-end;'>
          <h5>Upload a CSV file</h5>
          <div class='fake-link px-5' id="use-example-csv-btn" style="font-size:1rem;">
            Don't have a CSV file ready? Use an example file
          </div>
        </div>
        <input class="form-control form-control-sm rounded-pill mb-3" type="file" id="file-upload" accept=".csv,.CSV">


        <div class="text-center mt-2" id='loading-div' style="display:none;">
          <h3>Loading dataset...</h3>
          <div class="spinner-border" style="width: 5rem; height:5rem;">
          </div>
        </div>

        <div id="data-stats-div" class='my-1 text-center' style="font-size:1.5rem; font-weight:bold;">
        </div>

        <div id="plot-row" style="display:none;">
          <div class="row mt-3">
            
            <div class="col my-div m-2">
              <h4>Histogram</h4>
              <div class="my-2 d-flex" style="display:flex; align-items: center;">
                <span style="white-space: nowrap; font-size: 1.1rem;">
                  Select column to plot&nbsp;&nbsp;
                </span>
                <select class="form-select form-select-sm shadow-none rounded-pill" id="histogram-select"></select>
              </div>
              <div class='d-flex'>
                <div id="histogram-plot-div">
                </div>
                <div id="histogram-stats-div">
                </div>
              </div>
            </div>

            <div class="col my-div m-2">
              <h4>Scatter</h4>
              <div class="my-2 d-flex" style="display:flex; align-items: center;">
                <span style="white-space: nowrap; font-size: 1.1rem;">
                  Select x-axis to plot&nbsp;&nbsp;
                </span>
                <select class="form-select form-select-sm shadow-none rounded-pill" id="x-axis-select"></select>
              </div>
              <div class="my-2 d-flex" style="display:flex; align-items: center;">
                <span style="white-space: nowrap; font-size: 1.1rem;">
                  Select y-axis to plot&nbsp;&nbsp;
                </span>
                <select class="form-select form-select-sm shadow-none rounded-pill" id="y-axis-select"></select>
              </div>
              <div class='d-flex'>
                <div id="scatter-plot-div">
                </div>
                <div id="scatter-stats-div">
                </div>
              </div>
            </div>

            <div class="col my-div m-2">
              <h4>Pearson <emph>r<sup>2</sup></emph> correlations</h4>
              <div id="correlation-map-div" class='mt-2 text-center'>
              </div>
            </div>

            <!--
            <div class="col my-div m-2">
              <h4>Column details</h4>
              <div id="column-details-div" style="width:100%; overflow:auto; max-height:300px;">
              </div>
            </div>
            -->

            <div class="col my-div m-2">
              <h4>Dataset</h4>
              <div id="table-div" style="width:100%; overflow:auto; max-height:300px;">
              </div>
            </div>

          </div>
        </div>

      </div>

    </main>

    <script src="static/js/d3.min.js"></script>
    <script src="static/js/plotly-latest.min.js"></script>
    <script src="static/js/bootstrap.bundle.min.js"></script>
    <script src="static/js/utils.js"></script>
    <script src="static/js/init.js"></script>

    <script src="static/js/plotly_utils.js"></script>
    <script src="static/js/plotting.js"></script>

  </body>
</html>


